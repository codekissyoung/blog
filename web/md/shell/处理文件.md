# 临时文件
```bash
cky@cky-pc:~/workspace/shell$ tempname=`mktemp` # 创建一个临时文件
cky@cky-pc:~/workspace/shell$ echo $tempname
/tmp/tmp.pRnrAkX65n

cky@cky-pc:~/workspace/shell$ tempdir=`mktemp -d`
cky@cky-pc:~/workspace/shell$ echo $tempdir
/tmp/tmp.qjWG3jW1VT
```

# 将文件切成小块
```bash
cky@cky-pc:~/workspace/shell/split$ ls -lhi # 查看下待切割的文件 有 19k
总用量 20K
20316493 -rw-r--r-- 1 cky cky 19K 7月   1 23:21 data.file

cky@cky-pc:~/workspace/shell/split$ split -b 2k data.file # 给它切成 2k 一个的大小
cky@cky-pc:~/workspace/shell/split$ ls -lhi
总用量 60K
20316493 -rw-r--r-- 1 cky cky  19K 7月   1 23:21 data.file
20316494 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xaa
20316495 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xab
20316496 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xac
20316497 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xad
20316498 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xae
20316499 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xaf
20316500 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xag
20316501 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xah
20316502 -rw-r--r-- 1 cky cky 2.0K 7月   1 23:22 xai
20316503 -rw-r--r-- 1 cky cky  849 7月   1 23:22 xaj


cky@cky-pc:~/workspace/shell/split$ split -b 3k data.file -d -a 4 splite_file # 指定前缀和编码
cky@cky-pc:~/workspace/shell/split$ ls -lhi
总用量 48K
20316493 -rw-r--r-- 1 cky cky  19K 7月   1 23:21 data.file
20316494 -rw-r--r-- 1 cky cky 3.0K 7月   2 00:38 splite_file0000
20316495 -rw-r--r-- 1 cky cky 3.0K 7月   2 00:38 splite_file0001
20316496 -rw-r--r-- 1 cky cky 3.0K 7月   2 00:38 splite_file0002
20316497 -rw-r--r-- 1 cky cky 3.0K 7月   2 00:38 splite_file0003
20316498 -rw-r--r-- 1 cky cky 3.0K 7月   2 00:38 splite_file0004
20316499 -rw-r--r-- 1 cky cky 3.0K 7月   2 00:38 splite_file0005
20316500 -rw-r--r-- 1 cky cky  849 7月   2 00:38 splite_file0006


cky@cky-pc:~/workspace/shell/split$ cat server.log 
SERVER-1
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success
SERVER-2
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success
SERVER-3
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success

 # /SERVER/ 是以此匹配来分割 {*}是按切割个数来生成文件 -f 指定前缀 -b 指定格式后缀
cky@cky-pc:~/workspace/shell/split$ csplit server.log /SERVER/ {*} -f server -b "%02d.log"
0
108
108
108

cky@cky-pc:~/workspace/shell/split$ ls -lihi
总用量 16K
20316428 -rw-r--r-- 1 cky cky   0 7月   2 00:45 server00.log
20316436 -rw-r--r-- 1 cky cky 108 7月   2 00:45 server01.log
20316497 -rw-r--r-- 1 cky cky 108 7月   2 00:45 server02.log
20316498 -rw-r--r-- 1 cky cky 108 7月   2 00:45 server03.log
20316496 -rw-r--r-- 1 cky cky 324 7月   2 00:41 server.log

cky@cky-pc:~/workspace/shell/split$ cat server01.log 
SERVER-1
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success
[connection] 192.168.0.1 success

```

# 获取文件名 获取后缀名
```bash
file="example.jpg"
name=${file%%.*} # 获取文件名
ext=${file##*.} # 获取后缀名

URL="www.google.com"
echo ${URL%.*} # www.google
echo ${URL%%.*} # www
echo ${URL#*.} # google.com
echo ${URL##.*} # com
```

# 批量重命名 和 移动
```bash
#!/bin/bash
count=1;
for img in `find . -iname "*.png" -o -iname '*.jpg'`;do
	ext=${img##*.}
	new_name="image_"$count.$ext;
	echo $new_name;
	mv $img $new_name;
	let count++;
done;
```

```bash
cky@cky-pc:~/workspace/shell/img$ ls
a.jpg  b.jpg  c.png
cky@cky-pc:~/workspace/shell/img$ ./rename.sh 
image_1.png
image_2.jpg
image_3.jpg
cky@cky-pc:~/workspace/shell/img$ ls
image_1.png  image_2.jpg  image_3.jpg  rename.sh

```

rename
================================================================================
```bash
cky@cky-pc:~/workspace/shell/img$ ls
image_1.png  image_2.jpg  image_3.jpg  rename.sh

```

# dd
```bash
# 生成固定大小填充的文件
cky@cky-pc:~/workspace/shell/dd$ dd if=/dev/zero of=junk.data bs=1M count=1
记录了1+0 的读入
记录了1+0 的写出
1048576 bytes (1.0 MB, 1.0 MiB) copied, 0.00211968 s, 495 MB/s

cky@cky-pc:~/workspace/shell/dd$ ls -lhi
总用量 1.0M
20191053 -rw-r--r-- 1 cky cky 1.0M 7月   2 12:35 junk.data

# if 不指定，默认从stdin读入
# of 不指定，默认输出到stdout
# bs blocksize 块大小
# count 块个数
# 文件大小 = bs x count
```


# comm 比较两个文件
```bash
cky@cky-pc:~/workspace/shell/comm$ cat A.txt 
apple
gold
iron
orange
silver
steel

cky@cky-pc:~/workspace/shell/comm$ cat B.txt 
carrot
cookies
gold
orange

cky@cky-pc:~/workspace/shell/comm$ comm A.txt B.txt # 第1列为A文件 第二列为B文件 第三列为两者相同的行
apple
	carrot
	cookies
		gold
iron
		orange
silver
steel

cky@cky-pc:~/workspace/shell/comm$ comm A.txt B.txt -1 -2 # 不输出第1列，第2列
gold
orange

# 通过改变输出的列来 或取两个文件之间的 并集 ，交集，差集
cky@cky-pc:~/workspace/shell/comm$ comm A.txt B.txt | sed 's/^\t*//' #　并集
apple
carrot
cookies
gold
iron
orange
silver
steel

cky@cky-pc:~/workspace/shell/comm$ comm A.txt B.txt -1 -2 | sed 's/^\t*//' # 交集
gold
orange

cky@cky-pc:~/workspace/shell/comm$ comm A.txt B.txt -1 -3 | sed 's/^\t*//' # B - A
carrot
cookies

cky@cky-pc:~/workspace/shell/comm$ comm A.txt B.txt -2 -3 | sed 's/^\t*//' # A - B
apple
iron
silver
steel
```

# 查找并且删除重复文件







































