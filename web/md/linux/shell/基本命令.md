# ls

- 索引节点号 权限 硬链接数 所属用户 所属用户组 文件大小 修改时间 文件名

```bash
➜  shell git:(master) ls -alhi
总用量 52K
20186976 drwxr-xr-x 3 cky cky 4.0K 6月  15 01:05 .
17172227 drwxr-xr-x 9 cky cky 4.0K 6月  12 17:12 ..
17698337 -rwxr-xr-x 1 cky cky  215 4月  29 21:50 localizer
17698326 -rwxr-xr-x 1 cky cky  121 4月  29 14:34 params

➜  shell git:(master) ls -alhi *.md  查看本目录下以md结尾的文件
20187003 -rw-r--r-- 1 cky cky 8 5月   2 14:22 README.md

➜  shell git:(master) ls -alhi /etc  查看指定目录下
总用量 1.4M
17956865 drwxr-xr-x 147 root root    12K 6月  12 17:07 .
       2 drwxr-xr-x  26 root root   4.0K 6月   9 01:06 ..
17956872 drwxr-xr-x   3 root root   4.0K 10月 13  2016 acpi
17957001 -rw-r--r--   1 root root   3.0K 10月 13  2016 adduser.conf
17959842 -rw-r--r--   1 root root    185 4月  28 17:15 aliases
```

# touch
- 动一下文件 若文件不存在 则创建

```bash
➜  shell git:(master) touch case  动一下文件 不改变文件内容 只是将文件修改时间变为现在
➜  shell git:(master) ls -alih case
17698358 -rwxr-xr-x 1 cky cky 132 6月  15 01:18 case

➜  shell git:(master) touch -t 201705070000 perl  改变文件的修改时间为指定时间 注意时间格式
➜  shell git:(master) ls -alhi perl
17698339 -rwxr-xr-x 1 cky cky 38 5月   7 00:00 perl

➜  shell git:(master) touch test1  创建一个新文件
➜  shell git:(master) ✗ ls -alhi test1
20187018 -rw-r--r-- 1 cky cky 0 6月  15 01:23 test1
```

cp
================================================================================
```bash
➜  shell git:(master) ✗ cp -p test1 test1_copy  复制文件 保持修改时间不变
➜  shell git:(master) ✗ ls -alhi test*
20187018 -rw-r--r-- 1 cky cky 0 6月  15 01:23 test1
20189141 -rw-r--r-- 1 cky cky 0 6月  15 01:23 test1_copy

➜  shell git:(master) ✗ mkdir dir  复制文件到 文件夹
➜  shell git:(master) ✗ cp test1 dir
➜  shell git:(master) ✗ ls dir
test1

➜  shell git:(master) ✗ cp -pR dir dir2   完全复制两个文件夹
➜  shell git:(master) ✗ ls -alhi dir*
dir:
总用量 8.0K
20316476 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:30 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:31 ..
20316477 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1

dir2:
总用量 8.0K
20316478 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:30 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:31 ..
20316479 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1

➜  shell git:(master) ✗ ls
case  dir  dir2  forin  ifelse  localizer  params  perl  python  read  README.md  test1  test1_copy  while
➜  shell git:(master) ✗ cp -l case dir/case  创建一个硬链接
➜  shell git:(master) ✗ ls -alhi dir
总用量 12K
20316476 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:36 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:34 ..
17698358 -rwxr-xr-x 2 cky cky  132 6月  15 01:18 case
20316477 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1

➜  shell git:(master) ✗ cp -s python dir2/python
cp: dir2/python：只能于当前目录中创建相对的符号链接
➜  shell git:(master) ✗ pwd
/home/cky/workspace/shell
➜  shell git:(master) ✗ cp -s /home/cky/workspace/shell/python  dir2/python  创建绝对路径的软链接就可以
➜  shell git:(master) ✗ ls -alhi dir2
总用量 8.0K
20316478 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:41 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:39 ..
20316481 lrwxrwxrwx 1 cky cky   32 6月  15 01:41 python -> /home/cky/workspace/shell/python
20316479 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1

➜  shell git:(master) ✗ cd dir2
➜  dir2 git:(master) ✗ cp -s ../python python_rel   或者进入相关目录去创建软链接
➜  dir2 git:(master) ✗ ls -alhi
总用量 8.0K
20316478 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:43 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:39 ..
20316481 lrwxrwxrwx 1 cky cky   32 6月  15 01:41 python -> /home/cky/workspace/shell/python
20316482 lrwxrwxrwx 1 cky cky    9 6月  15 01:43 python_rel -> ../python
20316479 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1
```

mv
================================================================================
- 移动文件，会改变文件名，但是索引节点 和 时间戳不变，原先指向它的软链接会失效

```
➜  shell git:(master) ✗ ls -alhi if-else
17698351 -rwxr-xr-x 1 cky cky 194 4月  29 23:15 if-else
➜  shell git:(master) ✗ mv if-else ifelse
➜  shell git:(master) ✗ ls -alhi ifelse
17698351 -rwxr-xr-x 1 cky cky 194 4月  29 23:15 ifelse

➜  shell git:(master) ✗ ls -alhi Dir
总用量 12K
20316476 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:39 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:55 ..
17698358 -rwxr-xr-x 2 cky cky  132 6月  15 01:18 case
20316480 lrwxrwxrwx 1 cky cky    9 6月  15 01:39 python -> ../python
20316477 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1
➜  shell git:(master) ✗ mv Dir dir  移动文件夹也是一样的
➜  shell git:(master) ✗ ls -alhi dir
总用量 12K
20316476 drwxr-xr-x 2 cky cky 4.0K 6月  15 01:39 .
20186976 drwxr-xr-x 5 cky cky 4.0K 6月  15 01:55 ..
17698358 -rwxr-xr-x 2 cky cky  132 6月  15 01:18 case
20316480 lrwxrwxrwx 1 cky cky    9 6月  15 01:39 python -> ../python
20316477 -rw-r--r-- 1 cky cky    0 6月  15 01:30 test1
```

stat
================================================================================
```
➜  shell git:(master) ✗ stat case  查看一个文件的详细情况
  文件：case
  大小：132       	块：8          IO 块：4096   普通文件
设备：802h/2050d	Inode：17698358    硬链接：2
权限：(0755/-rwxr-xr-x)  Uid：( 1000/     cky)   Gid：( 1000/     cky)
最近访问：2017-06-15 01:36:48.609100884 +0800
最近更改：2017-06-15 01:18:06.482207360 +0800
最近改动：2017-06-15 01:36:48.597098908 +0800
创建时间：-
```

file
================================================================================
```bash
➜  cky git:(master) file shell  可执行文本文件
shell: POSIX shell script, ASCII text executable
➜  cky git:(master) file main.c 普通c文件
main.c: C source, UTF-8 Unicode text
➜  cky git:(master) file cky  可执行二进制文件
cky: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=c5e8af665f1e457c8d223d41dd2cdde9a4c8cb25, not stripped
```

cat
================================================================================
- 本意是拼接，将多个文件内容一起输出 

```bash
➜  cky git:(master) ✗ cat shell
#!/bin/sh

echo "shell"
➜  cky git:(master) ✗ cat -n shell
    1	#!/bin/sh
    2
    3	echo "shell"
➜  cky git:(master) ✗ cat -b shell # 忽略空白行
    1	#!/bin/sh

    2	echo "shell"
    
    cat -s file # 压缩所有空白行
    
    cat -T ifelse.sh  | grep '\^I' # 将制表符显示为 ^I

    cat file1 file2 file3 # 输出多个文件
     
    echo 'text through stdin' | cat - file.txt # 将输入stdin和file.txt拼接起来， - 是stdin文本的文件名 
```

# tail
```bash
➜  cky git:(master) ✗ tail -n20 -f main.c  动态显示文件的倒数20行 默认是10行 用于监视日志文件挺好的

					int ru_utime = rusage.ru_utime.tv_sec;
					int ru_stime = rusage.ru_stime.tv_sec;
					printf("utime is %d \n",ru_utime);
					printf("stime is %d \n",ru_stime);
					printf("msgsnd is %ld\n",rusage.ru_msgsnd);
					printf("maxrss is %ld\n",rusage.ru_maxrss);
				}
			}
			break;/*}}}*/

	} // end of switch

	if(strcmp("default",argv[1]) == 0){/*{{{*/
		printf("输入 cky 参数 运行特定程序 \n");
	}/*}}}*/

	return 0;
}
```

mount
================================================================================
``` bash
➜  shell git:(master) ✗ mount  查看系统的挂载情况
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime)
udev on /dev type devtmpfs (rw,nosuid,relatime,size=4005816k,nr_inodes=1001454,mode=755)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000)
tmpfs on /run type tmpfs (rw,nosuid,noexec,relatime,size=805652k,mode=755)
/dev/sda2 on / type ext4 (rw,relatime,errors=remount-ro,data=ordered)
securityfs on /sys/kernel/security type securityfs (rw,nosuid,nodev,noexec,relatime)
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)
tmpfs on /run/lock type tmpfs (rw,nosuid,nodev,noexec,relatime,size=5120k)
tmpfs on /sys/fs/cgroup type tmpfs (ro,nosuid,nodev,noexec,mode=755)
cgroup on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,xattr,release_agent=/lib/systemd/systemd-cgroups-agent,name=systemd)
pstore on /sys/fs/pstore type pstore (rw,nosuid,nodev,noexec,relatime)
efivarfs on /sys/firmware/efi/efivars type efivarfs (rw,nosuid,nodev,noexec,relatime)
...
```
- `mount -t vfat /dev/sdb1  /media/disk` , 挂载u盘`/dev/sdb1`到 `/media/disk`,并且以`vfat`文件系统格式读取
- `mount -t iso9660 -o loop  MEPIS-KDE4-LIVE-DVD_32.iso   mnt` 直接将一个iso文件挂载到`mnt`路径下面


umount
================================================================================
- `umount [directory | device]` 卸载已经挂载的设备
- `lsof [directory | device]` 卸载之前看看有没有文件被进程占用，有的话要先关闭该进程


df
================================================================================
```bash
➜  cky git:(master) df -h # 查看磁盘使用情况
文件系统        容量  已用  可用 已用% 挂载点
udev            3.9G     0  3.9G    0% /dev
tmpfs           787M   28M  760M    4% /run
/dev/sda2       450G   24G  404G    6% /
tmpfs           3.9G  3.8M  3.9G    1% /dev/shm
tmpfs           5.0M  4.0K  5.0M    1% /run/lock
tmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup
/dev/sda1       511M  3.5M  508M    1% /boot/efi
tmpfs           787M  144K  787M    1% /run/user/1000
```

du
================================================================================
```bash
➜  cky git:(master) du -sh *
32K	cky
12K	hello
16K	include
80K	lib
20K	main.c
4.0K	Makefile
4.0K	README.md
4.0K	shell
40K	src
0	text.txt
```

dd
================================================================================
