# 静态变量 static 实现
```c
void trystat(void){
    int fade = 1;
    static int stay = 2;
    printf("fade = %d , stay = %d \n",fade++,stay++);
}
```
- 静态变量，首先只有在定义它的函数内部才能访问到
- 在函数调用完毕 return 后，静态变量并不会被销毁，而是保持其值
- 这次调用 `trystat` 函数中静态变量的值，就是上次调用 `stystat` 结束时，静态变量保存的值
- 在函数体，一个被声明为静态的变量在这一函数被调用过程中维持其值不变。

# 模块 static 实现
```c
// node.c
typedef struct node *Node;
static Node head;
int insert(int val){ ... }
void print(){ ... }

// node.h
extern int insert(int val);
extern void print();
extern void destroy();
```
- `static` 限制 `head` 只能在本文件中访问,用户企图在其他文件中直接操作 `node` 是不可能的
- 同时暴露出 `insert`  `print` 函数作为外部操作该链表的接口
- 在模块内，但在函数体外，一个被声明为静态的 **变量** 或者 **函数** 可以被模块内所用函数访问，但不能被模块外其它函数访问。它是一个本地的全局变量

# 声明和定义
```c
// 声明
int a;
extern int max(int a,int b);

// 定义
int a = 10;
int max(int a,int b){ ... }
```
- 声明是只告知编译器该变量的存在,不分配存储空间
- 多个定义是错误的，多个声明是可以的
- 没有定义就把声明当定义,最后都是以定义为准
